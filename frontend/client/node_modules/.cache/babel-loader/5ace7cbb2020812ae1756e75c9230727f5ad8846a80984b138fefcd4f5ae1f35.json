{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kamel.yehya\\\\Desktop\\\\TradeZ\\\\frontend\\\\client\\\\src\\\\pages\\\\AddItem\\\\index.jsx\",\n  _s = $RefreshSig$();\nimport ItemForm from \"components/ItemForm\";\nimport \"./addItem.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AddItem = _ref => {\n  _s();\n  let {\n    getCookie\n  } = _ref;\n  const navigate = useNavigate();\n  const [data, setData] = useState({\n    name: \"\",\n    approximateValue: \"\",\n    locationName: \"\",\n    description: \"\"\n  });\n  const [selectedFile, setSelectedFile] = useState(null);\n  const handleChange = _ref2 => {\n    let {\n      currentTarget: input\n    } = _ref2;\n    setData({\n      ...data,\n      [input.name]: input.value\n    });\n  };\n  const handleFileSelect = event => {\n    setSelectedFile(event.target.files);\n  };\n  const submitForm = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append(\"name\", data.name);\n    formData.append(\"approximateValue\", data.approximateValue);\n    formData.append(\"locationName\", data.locationName);\n    formData.append(\"description\", data.description);\n    for (let i = 0; i < selectedFile.length; i++) {\n      formData.append('imagesReferences', selectedFile[i]);\n    }\n    const token = getCookie();\n    let reqInstance = axios.create({\n      headers: {\n        'ContentType': 'multipart/form-data',\n        Authorization: `Bearer ${token}`\n      }\n    });\n    try {\n      const url = \"http://localhost:3000/api/item/create\";\n      await reqInstance.post(url, formData, {\n        withCredentials: true,\n        baseURL: 'http://localhost:3000'\n      });\n      navigate(\"/items/mine\");\n    } catch (error) {\n      console.log(\"error: \", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(ItemForm, {\n      getCookie: getCookie\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n_s(AddItem, \"ruf74QEht3bhiioBGMbfWoYNRak=\", true);\n_c = AddItem;\nexport default AddItem;\nvar _c;\n$RefreshReg$(_c, \"AddItem\");","map":{"version":3,"names":["ItemForm","AddItem","getCookie","navigate","useNavigate","data","setData","useState","name","approximateValue","locationName","description","selectedFile","setSelectedFile","handleChange","currentTarget","input","value","handleFileSelect","event","target","files","submitForm","e","preventDefault","formData","FormData","append","i","length","token","reqInstance","axios","create","headers","Authorization","url","post","withCredentials","baseURL","error","console","log"],"sources":["C:/Users/kamel.yehya/Desktop/TradeZ/frontend/client/src/pages/AddItem/index.jsx"],"sourcesContent":["import ItemForm from \"components/ItemForm\";\r\nimport \"./addItem.css\";\r\n\r\nconst AddItem = ({getCookie}) => {\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const [data, setData] = useState({\r\n\t\tname: \"\",\r\n\t\tapproximateValue: \"\",\r\n\t\tlocationName: \"\",\r\n        description: \"\"\r\n\t});\r\n\r\n    const [selectedFile, setSelectedFile] = useState(null);\r\n\r\n\tconst handleChange = ({ currentTarget: input }) => {\r\n\t\tsetData({ ...data, [input.name] : input.value });\r\n\t};\r\n\r\n    const handleFileSelect = (event) => {\r\n        setSelectedFile(event.target.files)\r\n    }\r\n\r\n    const submitForm = async (e) => {\r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append(\"name\",  data.name);\r\n        formData.append(\"approximateValue\",  data.approximateValue);\r\n        formData.append(\"locationName\",  data.locationName);\r\n        formData.append(\"description\",  data.description);\r\n\r\n        for (let i = 0; i < selectedFile.length; i++) {\r\n            formData.append('imagesReferences', selectedFile[i]);\r\n        }\r\n\r\n        const token = getCookie();\r\n\r\n        let reqInstance = axios.create({\r\n            headers: {\r\n                'ContentType': 'multipart/form-data',\r\n                Authorization: `Bearer ${token}`\r\n            }\r\n        });\r\n\r\n\t\ttry {\r\n\t\t\tconst url = \"http://localhost:3000/api/item/create\";\r\n\t\t\tawait reqInstance.post(url, formData, \r\n\t\t\t\t{\r\n\t\t\t\t\twithCredentials: true,\r\n\t\t\t\t\tbaseURL: 'http://localhost:3000'\r\n\t\t\t\t});\r\n\r\n\t\t\tnavigate(\"/items/mine\");\r\n\r\n\t\t} catch (error) { \r\n\t\t\tconsole.log(\"error: \", error);\r\n\t\t}\r\n    }\r\n    \r\n\treturn (\r\n        <>\r\n            <ItemForm getCookie={getCookie}/>\r\n        </>\r\n\t);\r\n};\r\n\r\nexport default AddItem;\r\n"],"mappings":";;AAAA,OAAOA,QAAQ,MAAM,qBAAqB;AAC1C,OAAO,eAAe;AAAC;AAAA;AAEvB,MAAMC,OAAO,GAAG,QAAiB;EAAA;EAAA,IAAhB;IAACC;EAAS,CAAC;EAExB,MAAMC,QAAQ,GAAGC,WAAW,EAAE;EAE9B,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGC,QAAQ,CAAC;IACnCC,IAAI,EAAE,EAAE;IACRC,gBAAgB,EAAE,EAAE;IACpBC,YAAY,EAAE,EAAE;IACVC,WAAW,EAAE;EACpB,CAAC,CAAC;EAEC,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGN,QAAQ,CAAC,IAAI,CAAC;EAEzD,MAAMO,YAAY,GAAG,SAA8B;IAAA,IAA7B;MAAEC,aAAa,EAAEC;IAAM,CAAC;IAC7CV,OAAO,CAAC;MAAE,GAAGD,IAAI;MAAE,CAACW,KAAK,CAACR,IAAI,GAAIQ,KAAK,CAACC;IAAM,CAAC,CAAC;EACjD,CAAC;EAEE,MAAMC,gBAAgB,GAAIC,KAAK,IAAK;IAChCN,eAAe,CAACM,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC;EACvC,CAAC;EAED,MAAMC,UAAU,GAAG,MAAOC,CAAC,IAAK;IAC5BA,CAAC,CAACC,cAAc,EAAE;IAClB,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,EAAE;IAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAGtB,IAAI,CAACG,IAAI,CAAC;IACnCiB,QAAQ,CAACE,MAAM,CAAC,kBAAkB,EAAGtB,IAAI,CAACI,gBAAgB,CAAC;IAC3DgB,QAAQ,CAACE,MAAM,CAAC,cAAc,EAAGtB,IAAI,CAACK,YAAY,CAAC;IACnDe,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAGtB,IAAI,CAACM,WAAW,CAAC;IAEjD,KAAK,IAAIiB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGhB,YAAY,CAACiB,MAAM,EAAED,CAAC,EAAE,EAAE;MAC1CH,QAAQ,CAACE,MAAM,CAAC,kBAAkB,EAAEf,YAAY,CAACgB,CAAC,CAAC,CAAC;IACxD;IAEA,MAAME,KAAK,GAAG5B,SAAS,EAAE;IAEzB,IAAI6B,WAAW,GAAGC,KAAK,CAACC,MAAM,CAAC;MAC3BC,OAAO,EAAE;QACL,aAAa,EAAE,qBAAqB;QACpCC,aAAa,EAAG,UAASL,KAAM;MACnC;IACJ,CAAC,CAAC;IAER,IAAI;MACH,MAAMM,GAAG,GAAG,uCAAuC;MACnD,MAAML,WAAW,CAACM,IAAI,CAACD,GAAG,EAAEX,QAAQ,EACnC;QACCa,eAAe,EAAE,IAAI;QACrBC,OAAO,EAAE;MACV,CAAC,CAAC;MAEHpC,QAAQ,CAAC,aAAa,CAAC;IAExB,CAAC,CAAC,OAAOqC,KAAK,EAAE;MACfC,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEF,KAAK,CAAC;IAC9B;EACE,CAAC;EAEJ,oBACO;IAAA,uBACI,QAAC,QAAQ;MAAC,SAAS,EAAEtC;IAAU;MAAA;MAAA;MAAA;IAAA;EAAE,iBAClC;AAEX,CAAC;AAAC,GA9DID,OAAO;AAAA,KAAPA,OAAO;AAgEb,eAAeA,OAAO;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}